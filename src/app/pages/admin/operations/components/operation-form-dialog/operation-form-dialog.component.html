<h1 mat-dialog-title>{{ title }}</h1>
<div mat-dialog-content>
    <form [formGroup]="operationForm" >
        <p>
            <mat-form-field>
                <mat-label>Customer</mat-label>
                <mat-select formControlName="customer" required>
                    <mat-option *ngFor="let customer of customers" [value]="customer">
                        {{ customer.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field>
                <mat-label>Business</mat-label>
                <mat-select formControlName="business" required>
                    <mat-option *ngFor="let business of businesses" [value]="business">
                        {{ business.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field>
                <mat-label>Room</mat-label>
                <mat-select formControlName="room" required>
                    <mat-option *ngFor="let room of rooms" [value]="room">
                        {{ room.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <p>
            Start
            <br/>
            <mat-form-field>
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="startPicker" [min]="today" formControlName="startDate" required>
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="startPicker"></mat-datepicker-toggle>
                <mat-datepicker #startPicker></mat-datepicker>
            </mat-form-field>
            <br/>
            <mat-form-field>
                <mat-label>Choose an hour</mat-label>
                <mat-select formControlName="startTime" required>
                    <mat-option *ngFor="let hour of hours" [value]="hour">
                        {{ hour }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <p>
            End
            <br/>
            <mat-form-field>
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="endPicker" [min]="today" formControlName="endDate" required>
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="endPicker"></mat-datepicker-toggle>
                <mat-datepicker #endPicker></mat-datepicker>
            </mat-form-field>
            <br/>
            <mat-form-field>
                <mat-label>Choose an hour</mat-label>
                <mat-select formControlName="endTime" required>
                    <mat-option *ngFor="let hour of hours" [value]="hour">
                        {{ hour }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </p>
        <p>
            <mat-form-field appearance="outline">
                <mat-label>cost</mat-label>
                <input matInput type="number" step="0.5" min="0.5" name="cost" formControlName="cost" required>
            </mat-form-field>
        </p>
        <p>
            <label>Status: </label>
            <mat-radio-group formControlName="status">
                <mat-radio-button value="PENDING">Pending</mat-radio-button>
                <mat-radio-button value="APPROVED">Approved</mat-radio-button>
                <mat-radio-button value="CANCELLED">Cancelled</mat-radio-button>
            </mat-radio-group>
        </p>
        <p *ngIf="operation">
            <mat-slide-toggle formControlName="deleted" name="deleted"> Deleted </mat-slide-toggle>
        </p>
    </form>
</div>
<div *ngIf="isBeforeOrSame()">
    <p class="error-message">Start date must be before end date.</p>
  </div>
<div mat-dialog-actions>
  <button mat-button mat-dialog-close (click)="onCancel()">Cancel</button>
  <button mat-button mat-dialog-close (click)="onSave()" [disabled]="isBeforeOrSame()" cdkFocusInitial>Save</button>
</div>
